# File locations
PRIV_A=~/.aliases/private
DISTRO_A=~/.aliases/distro
GRAPHICAL_A=~/.aliases/graphical
BASHRC=~/.bashrc
BASH_FUNC=~/.bash_functions
SSH_CONFIG=~/.ssh/config

# Programs
CAT=cat
if command -v bat &> /dev/null; then
	CAT_OPTS='-l bash'
fi
GREP='grep -i'
EDIT=vim

# Private Aliases
[ -f $PRIV_A ] && . $PRIV_A

# Public Aliases
# Cfg
## List
alias la="$CAT $CAT_OPTS $BASH_A"
alias lp="$CAT $CAT_OPTS $PRIV_A"
alias lad="$CAT $CAT_OPTS $DISTRO_A"
alias lag="$CAT $CAT_OPTS $GRAPHICAL_A"
#alias lp="$CAT $CAT_OPTS ~/.bash_profile"
alias lb="$CAT $CAT_OPTS $BASHRC"
alias lf="$CAT $CAT_OPTS $BASH_FUNC"
alias lssh="$CAT $SSH_CONFIG"

## Grep
alias lag="la | $GREP"
alias lpg="lp | $GREP"
alias ladg="lad | $GREP"
alias lagg="lag | $GREP"
alias lbg="lb | $GREP"
alias lfg="lf | $GREP"
alias lsshg="lssh | $GREP"

## Edit
alias ea="$EDIT $BASH_A"
alias ep="$EDIT $PRIV_A"
alias ead="$EDIT $DISTRO_A"
alias eag="$EDIT $GRAPHICAL_A"
alias eb="$EDIT $BASHRC"
#alias ep="$EDIT ~/.bash_profile"
alias ef="$EDIT $BASH_FUNC"
alias essh="$EDIT $SSH_CONFIG"

## Update
alias ua=". $BASH_A"
alias ub=". $BASHRC"
#alias up=". ~/.bash_profile"
alias uf=". $BASH_FUNC"

# Pkg
APT='sudo apt --show-progress --auto-remove'
alias u='updt'
alias i='inst'
alias ui='uinst'
alias updt="$APT update && $APT full-upgrade -y --fix-broken --fix-missing --fix-policy && $APT autoclean"
alias inst="$APT install -y --fix-missing --fix-broken --fix-policy --upgrade"
alias uinst="$APT purge -y"

# Bash
alias r='fc -s'
alias cls='clear'
alias stealth='set +o history'
alias spkill='sudo pkill'
alias distro='uname -nrmo'
alias nf='neofetch'
alias d='cd $dldir'
#alias diff='diff --strip-trailing-cr'
alias py='python3'
alias ser='. /usr/share/stderred/stderred.sh'

# Grep
alias hg="history | $GREP"
alias pg="pstree | $GREP"
alias lg="ls | $GREP"
alias llg="ll | $GREP"

# File
alias sl=ls
alias rm='rm -I'
alias led='find . -type d -empty' # List empty directories
alias guc="grep -v '^ *#'" # Grep uncommented lines
alias rel="sed -i '/^$/d'" # Remove empty lines
alias sv='sudo vim'
alias t='sudo mv --force -t ~/.local/share/Trash/files/'
alias fown='sudo chown -R $(whoami) ~'
alias filecount='find . -type f | wc -l'
alias cpv='rsync -ah --info=progress2'
alias clsql='sudo rm -rf /root/.mysql_history'
alias findcrlf='find . -not -type d -exec file "{}" ";" | grep CRLF'
alias tdur="exiftool -n -p '\${Duration;our\$s;\$_=ConvertDuration(\$s+=\$_)}' *|tail -n1" # Total duration of videos in directory

# SysCtl
alias sctl='sudo systemctl'
alias uctl='systemctl --user'

# Net
YDL='youtube-dl -o "%(title)s.%(ext)s" --default-search "ytsearch"'
alias m3r="$YDL -x -f bestaudio --audio-format mp3"
alias m4r=$YDL
alias m4d="$YDL --external-downloader aria2c"
alias ipi='curl -s ifconfig.co'
alias ds='dig +short'

# wget
CRAWL='wget -r -e robots=off -np'
alias dl="$CRAWL -p -E --convert-links -P ."
alias crawl="$CRAWL --spider"
alias wgetlist='while read -r url filename tail; do wget -O "$filename" "$url" || err=1; done <'

# Date
alias nicedate="date +'%F %T %Z'"

# CTF
alias rhex='head -c 8 /dev/urandom | xxd -ps'

# Distro aliases (overwriting default Debian ones)
[ -f $DISTRO_A ] && . $DISTRO_A

# Graphical aliases
[ -f $GRAPHICAL_A ] && . $GRAPHICAL_A
